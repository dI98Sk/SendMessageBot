# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: –¶–∏–∫–ª—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

**–î–∞—Ç–∞:** 2025-12-13  
**–ü—Ä–æ–±–ª–µ–º–∞:** –¶–∏–∫–ª—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è (–µ—Å—Ç—å "–ù–ê–ß–ê–õ–û –¶–ò–ö–õ–ê #12"), –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è (0 –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, 0 —Ü–∏–∫–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Ü–∏–∫–ª–æ–≤
tail -f logs/broadcaster.log | grep -E "(–ù–ê–ß–ê–õ–û –¶–ò–ö–õ–ê|–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è|–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ|–í—ã–∑–æ–≤ _send_messages_cycle)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
tail -f logs/broadcaster.log | grep -E "(ERROR|Exception|Traceback|–û—à–∏–±–∫–∞)"
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ª–æ–≥–∞—Ö:

1. **–ó–∞–ø—É—Å–∫ —Ü–∏–∫–ª–æ–≤:**
   ```
   üîÑ [AAA_PRICE_Broadcaster] === –ù–ê–ß–ê–õ–û –¶–ò–ö–õ–ê #1 ===
   üåô [AAA_PRICE_Broadcaster] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞...
   üîå [AAA_PRICE_Broadcaster] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º...
   ‚úÖ [AAA_PRICE_Broadcaster] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ, –Ω–∞—á–∏–Ω–∞–µ–º —Ü–∏–∫–ª –æ—Ç–ø—Ä–∞–≤–∫–∏...
   üì® [AAA_PRICE_Broadcaster] –í—ã–∑–æ–≤ _send_messages_cycle()...
   ```

2. **–ï—Å–ª–∏ —Ü–∏–∫–ª—ã –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º..."
   - –ï—Å–ª–∏ –Ω–µ—Ç "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ" - –ø—Ä–æ–±–ª–µ–º–∞ –≤ `_ensure_connection()`
   - –ï—Å–ª–∏ –Ω–µ—Ç "–í—ã–∑–æ–≤ _send_messages_cycle()" - –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ —Ü–∏–∫–ª–µ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ traceback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–∞–π–º–∞—É—Ç –¥–ª—è `get_me()` (10 —Å–µ–∫—É–Ω–¥)

### 2. –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞—Ä—Ç–∞ (—Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è, –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ü–∏–∫–ª–∞

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: `_ensure_connection()` –∑–∞–≤–∏—Å–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ï—Å—Ç—å –ª–æ–≥–∏ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º..."
- –ù–µ—Ç –ª–æ–≥–æ–≤ "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Å—Å–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ `_ensure_connection()`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: `_send_messages_cycle()` –ø–∞–¥–∞–µ—Ç –º–æ–ª—á–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ï—Å—Ç—å –ª–æ–≥–∏ "–í—ã–∑–æ–≤ _send_messages_cycle()..."
- –ù–µ—Ç –ª–æ–≥–æ–≤ "–ù–ê–ß–ê–õ–û –¶–ò–ö–õ–ê –†–ê–°–°–´–õ–ö–ò"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å —Ü–µ–ª–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–µ—Ç –ª–æ–≥–æ–≤ "–í—Ö–æ–¥ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–∞—Å—Å—ã–ª–∫–∏..."
- –ï—Å—Ç—å –ª–æ–≥–∏ "–û–∂–∏–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞—Ä—Ç–∞"

**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫–ª—é—á–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ: `ENABLE_SCHEDULING=false`
- –ò–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞—Ä—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6:00)

---

## üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –û—Ç–∫–ª—é—á–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —Ç–∏—Ö–∏–π —á–∞—Å:

```env
ENABLE_SCHEDULING=false
ENABLE_QUIET_HOURS=false
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
bash scripts/stop_all.sh
sleep 5
bash scripts/start_all.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
tail -f logs/broadcaster.log | grep -E "(–ù–ê–ß–ê–õ–û –¶–ò–ö–õ–ê|–û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞—Ç–∞|–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è)"
```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Å—Å–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ (start_time_hour, quiet_hour)
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å —Ü–µ–ª–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –Ω–æ–≤—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-13  
**–í–µ—Ä—Å–∏—è:** 1.0

