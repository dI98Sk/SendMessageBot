# üìà –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç—á–µ—Ç–æ–≤ –≤ Telegram

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –≤ Telegram –∫–∞–Ω–∞–ª –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è).

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∫–∞–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `@your_reports_channel` –∏–ª–∏ `-1001234567890`)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:

```env
# –°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –≤ Telegram
ENABLE_REPORTS=true
REPORTS_BOT_TOKEN=your_telegram_bot_token_here
REPORTS_CHANNEL_ID=@your_reports_channel
REPORT_INTERVAL_HOURS=12
REPORTS_TIMEZONE=Europe/Moscow
```

### 4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------------|----------|---------|
| `ENABLE_REPORTS` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –æ—Ç—á–µ—Ç—ã | `true` |
| `REPORTS_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | `123456789:ABCdefGHIjklMNOpqrsTUVwxyz` |
| `REPORTS_CHANNEL_ID` | ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ | `@my_reports` –∏–ª–∏ `-1001234567890` |
| `REPORT_INTERVAL_HOURS` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤ (—á–∞—Å—ã) | `12` |
| `REPORTS_TIMEZONE` | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ | `Europe/Moscow` |

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `main_improved.py` —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á–µ—Ç—ã –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞–º–∏

```bash
python manage_reports.py
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ü–∏–∏:
- –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç—á–µ—Ç–∞
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä—É—á–Ω–æ–π –æ—Ç—á–µ—Ç

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
python manage_reports.py
# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 2 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üìä –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç—á–µ—Ç–∞

–û—Ç—á–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç:

- **–í—Ä–µ–º—è –∏ —Å—Ç–∞—Ç—É—Å** - –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö/–Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–∫–ª–æ–≤
- **–û—à–∏–±–∫–∏** - —Ç–æ–ø –æ—à–∏–±–æ–∫ –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–¢–æ–ø —á–∞—Ç–æ–≤** - —Å–∞–º—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã

## üé® –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞

```
üìà –û–¢–ß–ï–¢ SendMessageBot üü¢

‚è∞ –í—Ä–µ–º—è: 15.12.2024 14:30
üìä –°—Ç–∞—Ç—É—Å: –û—Ç–ª–∏—á–Ω–æ

üì§ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥:
   ‚Ä¢ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 1,247
   ‚Ä¢ –û—à–∏–±–æ–∫: 23
   ‚Ä¢ FloodWait: 5
   ‚Ä¢ –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: 98.2%
   ‚Ä¢ –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 1.45—Å

üîÑ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
   ‚Ä¢ –¶–∏–∫–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: 156
   ‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö broadcaster'–æ–≤: 2
   ‚Ä¢ –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 2 –º–∏–Ω –Ω–∞–∑–∞–¥

üö® –¢–æ–ø –æ—à–∏–±–æ–∫:
   ‚Ä¢ FloodWaitError: 5
   ‚Ä¢ ConnectionError: 3
   ‚Ä¢ TimeoutError: 2

üìä –¢–æ–ø —á–∞—Ç–æ–≤:
   1. -1001234567890: 89 —Å–æ–æ–±—â–µ–Ω–∏–π
   2. -1001234567891: 67 —Å–æ–æ–±—â–µ–Ω–∏–π
   3. -1001234567892: 45 —Å–æ–æ–±—â–µ–Ω–∏–π

üí° –°–ª–µ–¥—É—é—â–∏–π –æ—Ç—á–µ—Ç —á–µ—Ä–µ–∑ 12 —á–∞—Å–æ–≤
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –∫–∞–Ω–∞–ª–∞

### –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `REPORTS_BOT_TOKEN`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

### –û—Ç—á–µ—Ç—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ENABLE_REPORTS=true`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª `REPORT_INTERVAL_HOURS` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –æ—à–∏–±–∫–∏

## üìù –õ–æ–≥–∏

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ—Ç—á–µ—Ç–∞–º–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `logs/bot.log` —Å —Ç–µ–≥–æ–º `telegram_reporter`.

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤:
- `main_improved.py` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
- `manage_reports.py` - —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `run_bot.py` - –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìà –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –≤ –æ—Ç—á–µ—Ç:
1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–ª–∞—Å—Å `ReportData` –≤ `monitoring/reports.py`
2. –î–æ–±–∞–≤—å—Ç–µ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ `_collect_report_data`
3. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `_format_report_message`
